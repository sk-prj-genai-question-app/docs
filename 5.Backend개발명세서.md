# Backend 개발 명세서

## 1. 기술 스택

- **Framework**: Spring Boot 3.4.6
- **언어**: Java 17
- **데이터베이스**: MariaDB
- **빌드**: gradle

## 2. 프로젝트 구조

```
backend/
├── .github/
│   ├── ISSUE_TEMPLATE
│   └── workflows
├── src/main/java/com/rookies3/genaiquestionapp/
│   ├── auth/                 # 인증, 유저 도메인
│   │   ├── controller/
│   │   ├── entity/
│   │   ├── repository/
│   │   └── service/
│   ├── config/               # 설정
│   ├── exception/            # 예외 처리
│   │   └── global/           # 글로벌 예외 처리 핸들러
│   ├── jwt/                  # JWT 관련
│   ├── problem/              # 문제 도메인
│   │   ├── controller/
│   │   ├── entity/
│   │   ├── repository/
│   │   └── service/
│   └── util/                 # 보안 관련 유틸리티
├── src/main/resources/
│   ├── application.yml
│   ├── application-prod.yml  # 운영 환경 설정
│   └── application-test.yml  # 개발 환경 설정
├── src/test/java/com/rookies3/genaiquestionapp/
├── build.gradle
├── Dockerfile
└── README.md
```

## 3. 주요 설정

```yaml
# application.yml
server:
  port: 8080

spring:
  datasource:
    url:
    username:
    password:
  jpa:
    hibernate:
      ddl-auto: update

jwt:
  secret:
  expiration: 86400000
```

## 4. 주요 클래스

### 4.1 Entity

- AnswerRecord
- BaseEntity
- Chat
- Choice
- CustomUserDetails
- Problem
- RefreshToken
- User
- UserQuestion

### 4.2 Controller

- AnswerRecordController
- AuthController
- ChatController
- ProblemController
- UserController
- UserQuestionController

### 4.3 Service

- AnswerRecordService
- AuthService
- ChatService
- Problemservice
- UserService
- UserQuestionService

### 4.4 Repository

- AnswerRecordRepository
- ChatRepository
- ChoiceRepository
- ProblemRepository
- UserRepository
- UserQuestionRepository

## 5. 보안 구현

- JWT 토큰 인증
- Spring Security 설정
- CORS 설정

## 6. AI 모듈 연동

- RestTemplate 설정
- HTTP 클라이언트
- 에러 핸들링

## 7. 파일 처리

- MultipartFile 업로드
- 파일 저장 관리
- 지원 형식: PDF, DOCX, TXT

## 8. 예외 처리

- GlobalExceptionHandler
- Custom Exception 클래스

## 9. 빌드 및 배포

- Gradle 빌드
- Docker 설정
